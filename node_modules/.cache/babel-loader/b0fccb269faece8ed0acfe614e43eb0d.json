{"ast":null,"code":"// const fetch = require(\"node-fetch\");\nconst axios = require('axios');\n\nconst access_token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkNTExOGYzZmJlNjI5MzE0OTc0Y2EwYiIsImlhdCI6MTU2NTU5NjAwOX0.kwgnPc0jcqGL3RBw8MOmI2eZTaRnuCqy1NmIAPsXZAY';\n\nasync function fetchData(URL) {\n  let result = {\n    data: [],\n    status: \"INIT\"\n  };\n  result.status = \"LOADING\";\n  await axios.get(URL, {\n    headers: {\n      'Content-Type': 'application/json',\n      'x-access-token': access_token\n    }\n  }).then(data => {\n    result.data = data;\n    result.status = \"SUCCESS\";\n    return result;\n  }).catch(error => {\n    console.log('error :', error);\n    result.status = \"ERROR\";\n    return result;\n  });\n  return result;\n}\n\nconst sendResponse = async (URL, parameters) => {\n  let result = {};\n  await axios({\n    method: 'post',\n    url: URL,\n    data: parameters,\n    headers: {\n      'Content-Type': 'application/json',\n      'x-access-token': access_token\n    }\n  }).then(response => {\n    result.status = response.data.data.progress.toFixed(0);\n    console.log(response.data.data.progress.toFixed(0));\n    return result;\n  }).catch(error => {\n    console.log('error :', error);\n    result.status = \"ERROR\";\n    return result;\n  });\n};\n\nexport { sendResponse, fetchData }; // var myInit = { method: 'GET',\n//                headers: {\n//                 'Content-Type': 'application/json',\n//                 'x-access-token': access_token,\n//                },\n//                mode: 'cors',\n//                cache: 'default'\n//             };\n\n/*\n\n// var myHeaders = new Headers();\n// myHeaders.append('Content-Type', 'text/plain');\n\n// var myHeaders = new Headers({\n//     'Content-Type': 'application/json',\n//     'x-access-token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkMTRmYjc3NzlmMmQ5NDBkYjNmMWVhOCIsImlhdCI6MTU2NjQ1MzIzMH0.WwkLevFZia8HeVoJboJgcGHxbpGyAIShYgLTndDUyyU',\n//   });\n// var myRequest = new Request('https://dev.mai.family/api/v1/child/5d418ae546c1cc5668375327/assessment/5ce28e02990bef418d6aceb0', myInit);\n\n    fetch(URL, myInit).then(res => res.json()).then(\n            (res) => {\n              setPostData(res.data.questions)\n              setStatus(\"SUCCESS\")\n            },\n          (error) => {\n            setStatus(\"error\")\n          }\n        );\n    axios.get(URL,{\n       headers: {\n                'Content-Type': 'application/json',\n                'x-access-token': access_token,\n               }\n    })\n  .then(function (response) {\n    // handle success\n    console.log(response);\n  })\n  .catch(function (error) {\n    // handle error\n    console.log(error);\n  }) */","map":{"version":3,"sources":["/home/chenna/parentOf/cards/src/fetchCall.js"],"names":["axios","require","access_token","fetchData","URL","result","data","status","get","headers","then","catch","error","console","log","sendResponse","parameters","method","url","response","progress","toFixed"],"mappings":"AAAA;AACA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,YAAY,GAAG,sJAArB;;AAEA,eAAeC,SAAf,CAAyBC,GAAzB,EAA8B;AAC1B,MAAIC,MAAM,GAAC;AAACC,IAAAA,IAAI,EAAC,EAAN;AAAUC,IAAAA,MAAM,EAAC;AAAjB,GAAX;AACAF,EAAAA,MAAM,CAACE,MAAP,GAAc,SAAd;AACA,QAAMP,KAAK,CAACQ,GAAN,CAAUJ,GAAV,EAAe;AACjBK,IAAAA,OAAO,EAAE;AACA,sBAAgB,kBADhB;AAEA,wBAAkBP;AAFlB;AADQ,GAAf,EAMDQ,IANC,CAMIJ,IAAI,IAAI;AACVD,IAAAA,MAAM,CAACC,IAAP,GAAcA,IAAd;AACAD,IAAAA,MAAM,CAACE,MAAP,GAAgB,SAAhB;AACA,WAAOF,MAAP;AACH,GAVC,EAWDM,KAXC,CAWKC,KAAK,IAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,KAAvB;AACAP,IAAAA,MAAM,CAACE,MAAP,GAAc,OAAd;AACA,WAAOF,MAAP;AACH,GAfC,CAAN;AAgBA,SAAOA,MAAP;AACH;;AAED,MAAMU,YAAY,GAAG,OAAMX,GAAN,EAAWY,UAAX,KAA0B;AAC3C,MAAIX,MAAM,GAAG,EAAb;AACA,QAAML,KAAK,CAAC;AACViB,IAAAA,MAAM,EAAE,MADE;AAEVC,IAAAA,GAAG,EAAEd,GAFK;AAGVE,IAAAA,IAAI,EAAEU,UAHI;AAIVP,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,wBAAkBP;AAFX;AAJC,GAAD,CAAL,CASLQ,IATK,CAUFS,QAAQ,IAAI;AACRd,IAAAA,MAAM,CAACE,MAAP,GAAgBY,QAAQ,CAACb,IAAT,CAAcA,IAAd,CAAmBc,QAAnB,CAA4BC,OAA5B,CAAoC,CAApC,CAAhB;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAaK,QAAQ,CAACb,IAAT,CAAcA,IAAd,CAAmBc,QAApB,CAA8BC,OAA9B,CAAsC,CAAtC,CAAZ;AACA,WAAOhB,MAAP;AACH,GAdC,EAeJM,KAfI,CAeEC,KAAK,IAAI;AACbC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,KAAvB;AACAP,IAAAA,MAAM,CAACE,MAAP,GAAc,OAAd;AACA,WAAOF,MAAP;AACH,GAnBK,CAAN;AAoBH,CAtBD;;AAwBA,SAASU,YAAT,EAAwBZ,SAAxB,G,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA","sourcesContent":["// const fetch = require(\"node-fetch\");\nconst axios = require('axios');\nconst access_token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkNTExOGYzZmJlNjI5MzE0OTc0Y2EwYiIsImlhdCI6MTU2NTU5NjAwOX0.kwgnPc0jcqGL3RBw8MOmI2eZTaRnuCqy1NmIAPsXZAY';\n\nasync function fetchData(URL) {\n    let result={data:[], status:\"INIT\"}\n    result.status=\"LOADING\";\n    await axios.get(URL, {\n        headers: {\n                 'Content-Type': 'application/json',\n                 'x-access-token': access_token,\n                }\n        })\n        .then(data => {\n            result.data = data;\n            result.status = \"SUCCESS\";\n            return result;\n        })\n        .catch(error => {\n            console.log('error :', error);\n            result.status=\"ERROR\";\n            return result;\n        })\n    return result;\n}\n\nconst sendResponse = async(URL, parameters) => {\n    let result = {}\n    await axios({\n      method: 'post',\n      url: URL,\n      data: parameters,\n      headers: {\n        'Content-Type': 'application/json',\n        'x-access-token': access_token,\n       }\n    })\n    .then(\n        response => {\n            result.status = response.data.data.progress.toFixed(0);\n            console.log((response.data.data.progress).toFixed(0));\n            return result;\n        }\n    ).catch(error => {\n        console.log('error :', error);\n        result.status=\"ERROR\";\n        return result;\n    })\n}\n \nexport { sendResponse , fetchData };\n\n\n\n\n\n// var myInit = { method: 'GET',\n//                headers: {\n//                 'Content-Type': 'application/json',\n//                 'x-access-token': access_token,\n//                },\n//                mode: 'cors',\n//                cache: 'default'\n//             };\n/*\n\n// var myHeaders = new Headers();\n// myHeaders.append('Content-Type', 'text/plain');\n\n// var myHeaders = new Headers({\n//     'Content-Type': 'application/json',\n//     'x-access-token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkMTRmYjc3NzlmMmQ5NDBkYjNmMWVhOCIsImlhdCI6MTU2NjQ1MzIzMH0.WwkLevFZia8HeVoJboJgcGHxbpGyAIShYgLTndDUyyU',\n//   });\n// var myRequest = new Request('https://dev.mai.family/api/v1/child/5d418ae546c1cc5668375327/assessment/5ce28e02990bef418d6aceb0', myInit);\n\n    fetch(URL, myInit).then(res => res.json()).then(\n            (res) => {\n              setPostData(res.data.questions)\n              setStatus(\"SUCCESS\")\n            },\n          (error) => {\n            setStatus(\"error\")\n          }\n        );\n    axios.get(URL,{\n       headers: {\n                'Content-Type': 'application/json',\n                'x-access-token': access_token,\n               }\n    })\n  .then(function (response) {\n    // handle success\n    console.log(response);\n  })\n  .catch(function (error) {\n    // handle error\n    console.log(error);\n  }) */\n"]},"metadata":{},"sourceType":"module"}